@model MiniCms.Web.Models.AdminViewModel

@{
    ViewBag.Title = "Settings";
}


<script type="text/javascript" src="../../Scripts/tinymce/tiny_mce.js"></script>
<script type="text/javascript" >
    tinyMCE.init({
        mode: "textareas",
        height: 100,
        theme: "simple",   //(n.b. no trailing comma, this will be critical as you experiment later)
        plugins: "paste",
        paste_preprocess: function (pl, o) {
            //example: keep bold,italic,underline and paragraphs
            //o.content = strip_tags( o.content,'<b><u><i><p>' );

            // remove all tags => plain text
            o.content = strip_tags(o.content, '<b><u><i><p>');
        }
    });
</script>

<div class="grid-7">
    <h2>Settings</h2>
    @using (Html.BeginForm())
    {
        <div class="validation-summary-errors">
            @Html.ValidationSummary()
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Name)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Name)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Email)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Email)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Address.AddressLine)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Address.AddressLine)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Address.Zip)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Address.Zip)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Address.City)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Address.City)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.GeoPoint) <input id="btn-get-lat-lng" type="button" value="Get from address"/>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.GeoPoint.Latitude)
            @Html.TextBoxFor(m => m.BlogModel.GeoPoint.Longitude)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Phone)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Phone)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Fax)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.Fax)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.Description)
        </div>
        <div class="editor-field">
            @Html.TextAreaFor(m => m.BlogModel.Description)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.StyleSheet)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.StyleSheet)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.BlogModel.GoogleAnalyticsId)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.BlogModel.GoogleAnalyticsId)
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(m => m.BlogModel.ShowContactinfoInFooter) @Html.LabelFor(m => m.BlogModel.ShowContactinfoInFooter)
        </div>
        <p class="submitbutton"><input type="submit" value="Save"/></p>
    }
    <p></p>
</div>

<div class="grid-5">
    @Html.Partial("_AdminMenu")
</div>

<script type="text/javascript">
    $('#btn-get-lat-lng').click(function () {
        var address = $("#BlogModel_Address_AddressLine").val() + ', ' + $("#BlogModel_Address_Zip").val() + ' ' + $("#BlogModel_Address_City").val();
        alert(address);
    });
</script>