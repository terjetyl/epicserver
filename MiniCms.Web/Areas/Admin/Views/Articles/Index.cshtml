@{
    Bundles.Reference("Areas/Admin/Scripts/app.coffee");
}

@{
    ViewBag.Title = "Index";
}

<div id="main_content" class="span10">

    <div class="widget_container">
        <div class="well nomargin">
            <ul class="breadcrumbs-custom in-well">
                <li><a href="#">Home</a></li>
                <li><a href="#">Contents</a></li>
                <li><a href="#">Articles</a></li>
                <li class="active">List</li>
            </ul>
        </div>
    </div>

    <div class="row-fluid">
        <div class="widget_container">
            <div class="well nomargin">
                <div class="navbar navbar-static navbar_as_heading">
                    <div class="navbar-inner">
                        <div class="container" style="width: auto;">
                            <a class="brand">Articles</a>
                            <a class="btn pull-right" href="/admin/articles/create">Add New</a>
                        </div>
                    </div>
                </div>
                <div class="subnav">
                    <div class="btn-toolbar pull-left">
                        <div class="btn-group">
                            <button class="btn btn-small active btn-duadua">All<span class="badge abs1">30</span></button>
                            <button class="btn btn-small btn-duadua"><i class="icon-ok-3"></i>Published <span class="badge badge-info abs1">30</span></button>
                            <button class="btn btn-small btn-duadua"><i class="icon-pencil"></i>Draft <span class="badge badge-warning abs1">0</span></button>
                            <button class="btn btn-small btn-duadua"><i class="icon-trash-2 btn-duadua"></i>Trash <span class="badge badge-important abs1">0</span></button>
                        </div>
                    </div>
                    <form class="navbar-search pull-right" action="">
                    <input type="text" class="search-query" placeholder="Search">
                    </form>
                </div>

                <div class="subnav nobg">
                    <div class="span2">
                        <select name="action">
                            <option value="-1" selected="selected">Bulk Actions</option>
                            <option value="edit">Edit</option>
                            <option value="trash">Move to Trash</option>
                        </select>
                    </div>
                    <div class="span1">
                        <button class="btn btn-small btn-duadua">Apply</button>
                    </div>
                    <div class="span2">
                        <select name="m">
                            <option selected="selected" value="0">Show all dates</option>
                            <option value="201206">June 2012</option>
                            <option value="201205">May 2012</option>
                            <option value="201204">April 2012</option>
                            <option value="201203">March 2012</option>
                            <option value="201202">February 2012</option>
                            <option value="201201">January 2012</option>
                            <option value="201111">November 2011</option>
                            <option value="201105">May 2011</option>
                            <option value="201102">February 2011</option>
                            <option value="201007">July 2010</option>
                            <option value="201003">March 2010</option>
                            <option value="201002">February 2010</option>
                            <option value="200912">December 2009</option>
                            <option value="200908">August 2009</option>
                            <option value="200906">June 2009</option>
                            <option value="200902">February 2009</option>
                            <option value="200901">January 2009</option>
                        </select>
                    </div>
                    <div class="span2">
                        <select name="cat" id="cat" class="postform">
                            <option value="0">View all categories</option>
                            <option class="level-0" value="1">Breaking News</option>
                        </select>
                    </div>
                    <div class="span1">
                        <button class="btn btn-small btn-duadua">Filter</button>
                    </div>
                    <div class="span4">
                        <div class="pagination">
                            <ul>
                                <li class="active"><a href="#">1</a></li>
                                <li><a href="#">2</a></li>
                                <li><a href="#">3</a></li>
                                <li><a href="#">4</a></li>
                                <li><a href="#">5</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <table class="table smallfont">
                    <thead>
                        <tr>
                            <td style="width: 20px;">
                                <input type="checkbox" data-bind="click: selectAll, checked: checkAll" id="chkbck"></td>
                            <td>Title</td>
                            <td>Author</td>
                            <td>Categories</td>
                            <td>Tags</td>
                            <td><i class="icon-large icon-comment-alt-1"></i></td>
                            <td>Date</td>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: articles">
                        <tr>
                            <td>
                                <input type="checkbox" data-bind="checked: selected" class="chkbck"></td>
                            <td>
                                <a target="_blank" class="post_title" data-bind="text: title, attr: { href: slug, title: title }"></a>
                                <div class="operation">
                                    <div class="btn-group" style="display: none;">
                                        <button class="btn btn-small"><i class="icon-pencil-1"></i>Edit</button>
                                        <button class="btn btn-small"><i class="icon-eye-2"></i>View</button>
                                        <button class="btn btn-small"><i class="icon-trash-empty"></i>Delete</button>
                                    </div>
                                </div>
                            </td>
                            <td data-bind="text: author">Admin</td>
                            <td><a href="#"><span class="label label-info">Breaking News</span></a></td>
                            <td data-bind="text: tags"></td>
                            <td><span class="badge badge-info" data-bind="text: commentcount"></span></td>
                            <td data-bind="text: date"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="subnav nobg">
                    <div class="span2">
                        <select name="action">
                            <option value="-1" selected="selected">Bulk Actions</option>
                            <option value="edit">Edit</option>
                            <option value="trash">Move to Trash</option>
                        </select>
                    </div>
                    <div class="span1">
                        <button class="btn btn-small btn-duadua">Apply</button>
                    </div>
                    <div class="span2">
                    </div>
                    <div class="span2">
                    </div>
                    <div class="span1">
                    </div>
                    <div class="span4">
                        <div class="pagination">
                            <ul>
                                <li class="active"><a href="#">1</a></li>
                                <li><a href="#">2</a></li>
                                <li><a href="#">3</a></li>
                                <li><a href="#">4</a></li>
                                <li><a href="#">5</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function() {
        var articles = new Articles();
        var categories = new Categories();
        var vm = new ArticlesViewModel(articles, categories);
        articles.fetch();
        categories.fetch();
        ko.applyBindings(vm);
    });
</script>